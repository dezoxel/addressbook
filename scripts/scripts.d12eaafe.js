"use strict";angular.module("addressbookApp",["ngRoute","ngTouch","LocalStorageModule"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/list.html",controller:"ListCtrl as list"}).when("/add",{templateUrl:"views/edit.html",controller:"EditCtrl as editEntry"}).when("/edit/:id",{templateUrl:"views/edit.html",controller:"EditCtrl as editEntry"}).otherwise({redirectTo:"/"})}]).config(["localStorageServiceProvider",function(a){a.setPrefix("addressbook")}]),angular.module("addressbookApp").controller("ListCtrl",["Addressbook",function(a){var b=this;b.searchInput="",b.addressbook=a.all(),b.destroy=function(b){a.destroy(b)}}]),angular.module("addressbookApp").controller("EditCtrl",["Addressbook","$routeParams","$location",function(a,b,c){var d=this;d.entry={},b.id&&(d.entry=a.find(b.id)),d.edit=function(b){a.update(b),c.path("/")},d.add=function(b){a.add(b),c.path("/")},d.destroy=function(b){a.destroy(b),c.path("/")}}]),angular.module("addressbookApp").service("Addressbook",["localStorageService",function(a){function b(){var a=d();k=i(a)?a:c()}function c(){return console.info("Use predefined list"),[{id:1,name:"Laura Morin",address:"P.O. Box 825, 7962 Ante, Ave"},{id:2,name:"Teegan Medina",address:"757-3869 Non St."},{id:3,name:"Nina Guy",address:"P.O. Box 241, 3444 Purus, Road"},{id:4,name:"Elmo Frazier",address:"4989 Proin Rd."},{id:5,name:"Nyssa Leonard",address:"387-6263 Pede. Av."},{id:6,name:"Dexter Christian",address:"967-8847 Vehicula Road"},{id:7,name:"Joan Reynolds",address:"285-1928 In St."},{id:8,name:"Audrey Gross",address:"7130 Suspendisse Street"},{id:9,name:"Keely Mendez",address:"P.O. Box 958, 9844 Nulla Rd."}]}function d(){return a.get("list")}function e(){return k.length}function f(a){for(var b=parseInt(a),c=k.length;c--;)if(k[c].id===b)return c;return-1}function g(){a.set("list",k)}function h(a){k.splice(a,1)}function i(a){return a&&!angular.equals([],a)}var j=this;j.all=function(){return k},j.find=function(a){var b=f(a);return-1===b?(console.error("Unable to find entry, not found by id: "+a),{}):k[b]},j.destroy=function(a){var b=f(a);return-1===b?(console.error("Unable to destroy entry, not found by id"),void console.trace(a)):(h(b),void g())},j.add=function(a){a.id=e(),k.push(a),g()},j.update=function(a){var b=f(a.id);return-1===b?(console.error("Unable to update entry, not found by id"),void console.trace(a)):(k[b]=a,void g())};var k=[];b()}]);